---
layout: docs
title:  "Linux 源代码安装 HTSlib"
date:   2018-01-14
categories: Linux
enable_mathjax: false
enable_mermaid: false
enable_comments: true
---
本文档仅仅是一次测试，想着 apt 获取头文件的请出门左转，若有更好的安装方法请不吝赐教。
<hr>
### 系统及软件环境：
```
Linux 4.9.0-5-amd64 x86_64 (Debian 9)
gcc g++ autoconf cmake ...
```

### 需要用到的依赖关系
+ zlib-1.2.11
+ bzip2-1.0.6
+ xz-5.2.3

### 获取源代码并做准备

```bash
$ export BASEDIR=/dev/shm # 生成一个环境变量
$ cd $BASEDIR
$ mkdir local
$ git clone git://github.com/samtools/htslib.git
$ cd $BASEDIR/htslib
$ autoheader
$ autoconf
```

### 安装依赖关系
使用下面的命令编译安装 zlib xz
```bash
$ ./configure --prefix=$BASEDIR/local
$ make -j8
$ make install
```

使用下面的命令编译安装 bzip2
```bash
$ make -j8
$ make install PREFIX=$BASEDIR/local
$ make clean
$ make -f Makefile-libbz2_so
$ mv libbz2.so.* $BASEDIR/local/lib
```

### 安装 HTSlib
```bash
$ LDFLAGS=-L$BASEDIR/local/lib CPPFLAGS=-I$BASEDIR/local/include \
>  ./configure --prefix=$BASEDIR/local
$ make -j8
$ make install
```
















